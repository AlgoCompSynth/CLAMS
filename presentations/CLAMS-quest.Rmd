---
title: "CLAMS - The Quest for Portability and Audio"
subtitle: "Forth Day 2024"
author: "M. Edward (Ed) Borasky"
date: 2023-11-16
bibliography: references.bib
output:
  beamer_presentation:
    theme: "Montpellier"
    incremental: false
    slide_level: 2
---

# Previously on CLAMS

## The original concept - early 2022
- Forth for the Electro-Smith Daisy Seed [@electrosmith2024]
    - Microcontroller board designed for digital music
    - ARM Cortex-M7 MCU, running at 480MHz
    - Hardware floating point and DSP instructions
    - 64MB of SDRAM for up to 10 minute long audio buffers
    - 8MB external flash
    - Stereo audio output - 96kHz / 24-bit audio hardware
    - No WiFi or Bluetooth
    - $29.95US quantity one
    - Available in various packaged modules
    - User interface and synthesis both done in Forth

## Revised concept - early 2023
- Forth for the Raspberry Pi Pico (WH)
    - Microcontroller board designed for general applications
    - Dual-core ARM Cortex-M0+, running at 133 Mhz
    - Co-processor for division, interpolation and I/O
    - No floating point or DSP instructions
    - 262KB RAM
    - 2 MB flash
    - No SD card
    - No audio hardware, I2S audio expansion packs available
    - 2.4 GHz WiFi and Bluetooth
    - $7.00 US
    - User interface and synthesis both done in Forth
    
## Stepping up a level - what does a digital synthesizer need?
    - Accurately-timed PCM samples
    - Digital-analog conversion for recording / performance
    - An interface for the composer / performer

## What was wrong with previous concepts? (Part 1)
- Lack of portability:
    - Need to hand-port to individual MCUs
    - Other desirable boards:
        - Raspberry Pi Zero 2 W
        - Teensy 4.1
        - ESP32-S3, -C3 and -C6
        - Electrosmith Daisy

## What was wrong with previous concepts? (Part 2)
- Limited audio capability
    - Only I2S audio is practical in Forth
    - Other desirable interfaces:
        - Class-compliant USB audio and MIDI
        - Bluetooth audio and MIDI
        - Specs too complex for easy Forth implementation

# CLAMS - The New Design

## Arduino or Linux for portability
- Target MCU boards have Arduino support
- Raspberry Pi Zero 2 W has Linux support
- I2S audio is supported on all boards
- Bluetooth audio is supported if the board has hardware
- USB MIDI supported on all boards
- USB audio is supported on Teensy and Zero 2 W
    - Others in alpha testing

## ShorePine Systems AMY synthesizer
- Highly portable - written in C
- Has a Python interface for Linux and MCUs
- Handles synthesis and I2S audio generation
- Very capable synthesizer - saves me months of Forth coding!
- Heart of the Tulip Creative Computer

# Forth base: C3

## C3 Forth for Arduino [@c3forth2024]
- Token-threaded Forth written in C/C++
- Runs on Linux (native), Raspberry Pi Pico and Teensy 4.1 (Arduino)
- Under active development
- Well-documented

## Bonus Forth content - C4!

# Road map - Tasks mostly in Priority Order

## Integrate C3 and AMY on Raspberry Pi Zero 2 W

## Make an album

## Integrate C3 and AMY on Pico I2S

## Integrate C3 and AMY and USB audio on Teensy 4.1

## Add AMY to Experimental Music Toolbox

## Longer range
- Electrosmith Daisy
- ESP32
- USB MIDI
- USB audio on non-Teensy boards

# Back Matter

## CLAMS on the web
- GitHub: <https://github.com/AlgoCompSynth/CLAMS>
- blog: <https://www.algocompsynth.com/#category:CLAMS>
- this presentation:
<https://github.com/AlgoCompSynth/CLAMS/blob/main/presentations/CLAMS-quest.pdf>

## Me on the web
- Mastodon: <https://ravenation.club/@AlgoCompSynth>
- LinkedIn: <https://www.linkedin.com/in/znmeb>
- Bandcamp: <https://algocompsynth.bandcamp.com>

## References
